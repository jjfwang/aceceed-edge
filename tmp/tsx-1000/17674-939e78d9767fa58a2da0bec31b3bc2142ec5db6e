{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});function registerEventSocket(server,bus){server.get(\"/v1/events\",{websocket:true},connection=>{const handler=__name(event=>{connection.socket.send(JSON.stringify(event))},\"handler\");bus.subscribe(handler);connection.socket.on(\"close\",()=>{bus.off(\"event\",handler)})})}__name(registerEventSocket,\"registerEventSocket\");export{registerEventSocket};\n","warnings":[],"map":{"version":3,"mappings":"kHAIO,SAAS,oBAAoB,OAAyB,IAAe,CAC1E,OAAO,IAAI,aAAc,CAAE,UAAW,IAAK,EAAI,YAAe,CAC5D,MAAM,QAAU,OAAC,OAAoB,CACnC,WAAW,OAAO,KAAK,KAAK,UAAU,KAAK,CAAC,CAC9C,EAFgB,WAIhB,IAAI,UAAU,OAAO,EAErB,WAAW,OAAO,GAAG,QAAS,IAAM,CAClC,IAAI,IAAI,QAAS,OAAO,CAC1B,CAAC,CACH,CAAC,CACH,CAZgB","names":[],"ignoreList":[],"sources":["/home/pi/aceceed-edge/apps/src/api/ws.ts"],"sourcesContent":[null]}}