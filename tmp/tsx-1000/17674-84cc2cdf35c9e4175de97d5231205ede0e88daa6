{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{spawn}from\"node:child_process\";import{promises as fs}from\"node:fs\";import path from\"node:path\";import os from\"node:os\";function sleep(ms){return new Promise(resolve=>setTimeout(resolve,ms))}__name(sleep,\"sleep\");function tempPath(prefix,ext=\"\"){const stamp=Date.now();const file=`${prefix}-${stamp}${ext}`;return path.join(os.tmpdir(),file)}__name(tempPath,\"tempPath\");async function runCommand(command,args,options={}){return new Promise((resolve,reject)=>{const child=spawn(command,args,{stdio:[\"pipe\",\"pipe\",\"pipe\"],signal:options.signal});let stdout=\"\";let stderr=\"\";child.stdout.on(\"data\",data=>{stdout+=data.toString()});child.stderr.on(\"data\",data=>{stderr+=data.toString()});child.on(\"error\",err=>{const code=err.code;if(code===\"ENOENT\"){reject(new Error(`Command not found: ${command}. Check config paths.`));return}reject(err)});child.on(\"close\",code=>{if(code===0){resolve({stdout,stderr});return}reject(new Error(`Command failed (${command} ${args.join(\" \")}): ${stderr}`))});if(options.input){child.stdin.write(options.input);child.stdin.end()}})}__name(runCommand,\"runCommand\");async function readTextFile(filePath){return fs.readFile(filePath,\"utf-8\")}__name(readTextFile,\"readTextFile\");async function safeUnlink(filePath){try{await fs.unlink(filePath)}catch(err){if(err.code!==\"ENOENT\"){throw err}}}__name(safeUnlink,\"safeUnlink\");export{readTextFile,runCommand,safeUnlink,sleep,tempPath};\n","warnings":[],"map":{"version":3,"mappings":"kHAAA,OAAS,UAAa,qBACtB,OAAS,YAAY,OAAU,UAC/B,OAAO,SAAU,YACjB,OAAO,OAAQ,UAER,SAAS,MAAM,GAA2B,CAC/C,OAAO,IAAI,QAAS,SAAY,WAAW,QAAS,EAAE,CAAC,CACzD,CAFgB,sBAIT,SAAS,SAAS,OAAgB,IAAM,GAAY,CACzD,MAAM,MAAQ,KAAK,IAAI,EACvB,MAAM,KAAO,GAAG,MAAM,IAAI,KAAK,GAAG,GAAG,GACrC,OAAO,KAAK,KAAK,GAAG,OAAO,EAAG,IAAI,CACpC,CAJgB,4BAMhB,eAAsB,WACpB,QACA,KACA,QAAoD,CAAC,EACR,CAC7C,OAAO,IAAI,QAAQ,CAAC,QAAS,SAAW,CACtC,MAAM,MAAQ,MAAM,QAAS,KAAM,CACjC,MAAO,CAAC,OAAQ,OAAQ,MAAM,EAC9B,OAAQ,QAAQ,MAClB,CAAC,EAED,IAAI,OAAS,GACb,IAAI,OAAS,GAEb,MAAM,OAAO,GAAG,OAAS,MAAS,CAChC,QAAU,KAAK,SAAS,CAC1B,CAAC,EAED,MAAM,OAAO,GAAG,OAAS,MAAS,CAChC,QAAU,KAAK,SAAS,CAC1B,CAAC,EAED,MAAM,GAAG,QAAU,KAAQ,CACzB,MAAM,KAAQ,IAA8B,KAC5C,GAAI,OAAS,SAAU,CACrB,OAAO,IAAI,MAAM,sBAAsB,OAAO,uBAAuB,CAAC,EACtE,MACF,CACA,OAAO,GAAG,CACZ,CAAC,EAED,MAAM,GAAG,QAAU,MAAS,CAC1B,GAAI,OAAS,EAAG,CACd,QAAQ,CAAE,OAAQ,MAAO,CAAC,EAC1B,MACF,CACA,OAAO,IAAI,MAAM,mBAAmB,OAAO,IAAI,KAAK,KAAK,GAAG,CAAC,MAAM,MAAM,EAAE,CAAC,CAC9E,CAAC,EAED,GAAI,QAAQ,MAAO,CACjB,MAAM,MAAM,MAAM,QAAQ,KAAK,EAC/B,MAAM,MAAM,IAAI,CAClB,CACF,CAAC,CACH,CA5CsB,gCA8CtB,eAAsB,aAAa,SAAmC,CACpE,OAAO,GAAG,SAAS,SAAU,OAAO,CACtC,CAFsB,oCAItB,eAAsB,WAAW,SAAiC,CAChE,GAAI,CACF,MAAM,GAAG,OAAO,QAAQ,CAC1B,OAAS,IAAK,CACZ,GAAK,IAA8B,OAAS,SAAU,CACpD,MAAM,GACR,CACF,CACF,CARsB","names":[],"ignoreList":[],"sources":["/home/pi/aceceed-edge/apps/src/common/utils.ts"],"sourcesContent":[null]}}